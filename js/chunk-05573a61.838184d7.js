(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05573a61"],{"7f96":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"check",tabindex:"-1",role:"dialog","aria-labelledby":"checkCenterTitle","aria-hidden":"true","data-backdrop":"static"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body leave-modal"},[s("p",[t._v("您的訂單尚未完成，確定要離開此頁? ")]),s("div",{staticClass:"text-right"},[s("button",{staticClass:"mr-2 btn btn-danger determin",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 確定 ")]),s("button",{staticClass:"cancel btn btn-dark",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")])])])])])])}],i={name:"CheckModal",data:function(){return{}}},d=i,l=s("2877"),n=Object(l["a"])(d,e,r,!1,null,null,null);a["a"]=n.exports},ea08:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-white"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"py-5 container CustomPay"},[s("h1",{staticClass:"text-center mb-4 text-secondary"},[t._v(" 訂單付款 ")]),s("div",{staticClass:"row mb-5"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[t._v(" 1.填寫訂單 "),s("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"check"}})],1)]),t._m(0),t._m(1)]),s("div",{staticClass:"CustomPay-message mb-5"},[s("h2",{staticClass:"mb-0 py-2 pl-3 h4 border bg-first"},[t._v(" 訂單訊息 ")]),s("div",{staticClass:"subscriber px-0"},[s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("姓名:")]),s("span",[t._v(t._s(t.order.user.name))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("Email:")]),s("span",[t._v(t._s(t.order.user.email))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("手機號碼:")]),s("span",[t._v(t._s(t.order.user.tel))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("地址:")]),s("span",[t._v(t._s(t.order.user.address))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("留言備註:")]),s("span",[t._v(t._s(t.order.message))])])])]),s("div",{staticClass:"CustomPay-data mb-5 border"},[s("h2",{staticClass:"mb-0 py-2 pl-3 h4 bg-first"},[t._v(" 訂單資料 ")]),s("div",{staticClass:"subscriber"},[s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("訂單成立時間:")]),s("span",[t._v(t._s(t._f("timecurrency")(t.order.create_at)))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("訂單編號:")]),s("span",[t._v(t._s(t.orderId))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("總金額:")]),s("span",{staticClass:"total"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),s("div",{staticClass:"CustomPay-pay border mb-3"},[t._m(2),s("div",{staticClass:"p-3"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var e=a.invalid;return[s("form",{on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[s("div",{staticClass:"form-group "},[s("label",{attrs:{for:"card-num"}},[t._v("信用卡卡號:")]),s("ValidationProvider",{attrs:{name:"信用卡ID",rules:"required|cardnum"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pay.id,expression:"pay.id"}],staticClass:"form-control",attrs:{id:"card-num",type:"text",name:"card-num",placeholder:"請輸入16位信用卡卡號"},domProps:{value:t.pay.id},on:{input:function(a){a.target.composing||t.$set(t.pay,"id",a.target.value)}}}),s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"card-date"}},[t._v("有效期限:")]),s("ValidationProvider",{attrs:{name:"有效期限",rules:"required|carddate"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pay.date,expression:"pay.date"}],staticClass:"form-control",attrs:{id:"card-date",type:"text",name:"card-date",placeholder:"例: 0320"},domProps:{value:t.pay.date},on:{input:function(a){a.target.composing||t.$set(t.pay,"date",a.target.value)}}}),s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"card-pay"}},[t._v("背面安全碼:")]),s("ValidationProvider",{attrs:{name:"背面安全碼",rules:"required|pay"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pay.num,expression:"pay.num"}],staticClass:"form-control",attrs:{id:"card-pay",type:"text",name:"card-pay",placeholder:"例: 540"},domProps:{value:t.pay.num},on:{input:function(a){a.target.composing||t.$set(t.pay,"num",a.target.value)}}}),s("span",[t._v(t._s(e[0]))])])]}}],null,!0)}),s("div",{staticClass:"text-right py-2 my-3"},[s("button",{staticClass:"btn btn-dark text-warning",attrs:{type:"submit",disabled:e}},[t._v(" 確認付款 ")])])],1)])]}}])})],1)])]),s("check")],1)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[t._v(" 2.確認付款 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert bg-five rounded-pill text-center",attrs:{role:"alert"}},[t._v(" 3.訂單完成 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"border bg-dark text-white"},[s("h2",{staticClass:"mb-0 py-2 pl-3 h4"},[t._v(" 信用卡資訊 ")])])}],i=s("5530"),d=s("2f62"),l=s("7bb1"),n=s("1157"),o=s.n(n),c=s("7f96"),u={name:"CustomPay",components:{ValidationObserver:l["a"],check:c["a"]},data:function(){return{orderId:"",leave:!1,pay:{id:"",date:"",num:""}}},computed:Object(i["a"])(Object(i["a"])({},Object(d["c"])(["isLoading"])),Object(d["c"])("orderModules",["order"])),created:function(){this.orderId=this.$route.params.orderId,this.$store.dispatch("orderModules/getOrder",this.orderId)},methods:{payOrder:function(){var t=this;t.$store.dispatch("orderModules/payOrder",this.orderId).then((function(){t.leave=!0}))}},beforeRouteLeave:function(t,a,s){var e=this;e.leave?s():(o()("#check").modal("show"),o()(".determin").on("click",(function(){s()})),o()(".cancel").on("click",(function(){s(!1)})))}},p=u,m=s("2877"),v=Object(m["a"])(p,e,r,!1,null,null,null);a["default"]=v.exports}}]);
//# sourceMappingURL=chunk-05573a61.838184d7.js.map