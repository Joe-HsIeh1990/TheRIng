{"version":3,"sources":["webpack:///./src/views/CustomCart.vue?690e","webpack:///src/views/CustomCart.vue","webpack:///./src/views/CustomCart.vue?4d5e","webpack:///./src/views/CustomCart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","cart","_v","_e","total","filterscarousel","_l","item","key","id","product","imageUrl","_s","title","_f","price","qty","class","disabled","cartdisable","deleteCart","items","final_total","directives","name","rawName","value","expression","domProps","target","composing","coupon_num","addCouponCode","GoOrder","staticRenderFns","components","CardCarousel","data","methods","vm","$store","dispatch","then","$router","push","computed","newarr","carouselproducts","filter","created","getCart","component"],"mappings":"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","file":"js/chunk-2d0a49fc.ccca22b1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-white\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"pt-5 container customerCart mb-2\"},[(_vm.cart.total)?_c('h1',{staticClass:\"text-center customerCart-title mb-5 text-secondary\"},[_vm._v(\"購物車\")]):_vm._e(),(!_vm.cart.total)?_c('h5',{staticClass:\"text-center py-5 mt-3 mb-5 nonecart\"},[_vm._v(\"目前您的購物車沒有任何商品!\")]):_vm._e(),(!_vm.cart.total)?_c('hr',{attrs:{\"s\":\"\"}}):_vm._e(),(!_vm.cart.total)?_c('h3',{staticClass:\"cart-recommend text-center mb-4 pl-2 font-weight-bold\"},[_vm._v(\"經典商品\")]):_vm._e(),(!_vm.cart.total)?_c('div',[_c('CardCarousel',{attrs:{\"filterscard\":_vm.filterscarousel}})],1):_vm._e(),(_vm.cart.total)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7\"},[_c('ul',{staticClass:\"list-unstyled customerCart-content\"},_vm._l((_vm.cart.carts),function(item){return _c('li',{key:item.id,staticClass:\"mb-1\"},[_c('div',{staticClass:\"customerCart-list d-flex flex-row\"},[_c('div',{staticClass:\"customerCart-img\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.product.imageUrl}})]),_c('div',{staticClass:\"d-flex align-items-center ml-2 ml-sm-0\"},[_c('div',[_c('h4',{staticClass:\"customerCart-list-title mb-3\"},[_vm._v(_vm._s(item.product.title))]),_c('div',{staticClass:\"customerCart-list-info d-flex\"},[_c('span',{staticClass:\"price mr-3\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price))+\" x \"+_vm._s(item.qty)+\" 隻\")])])])]),_c('div',{staticClass:\"ml-auto pr-2 delete align-self-center\"},[_c('a',{staticClass:\"btn btn-danger text-white\",class:{disabled:item.id === _vm.cartdisable},on:{\"click\":function($event){return _vm.deleteCart(item.id)}}},[_vm._v(\"刪除\")])])])])}),0)]),_c('div',{staticClass:\"col-lg-5\"},[_c('div',{staticClass:\"customerCart-order\"},[_c('div',{staticClass:\"p-3\"},[_c('h2',{staticClass:\"h5\"},[_vm._v(\"訂單金額\")]),_c('hr',{staticClass:\"my-3\"}),_c('div',[_vm._l((_vm.cart.carts),function(items){return _c('div',{key:items.id,staticClass:\"d-flex customerCart-order-item align-items-start mb-3\"},[_c('div',{staticClass:\"d-flex flex-column mt-1\"},[_c('h5',{staticClass:\"mb-0 h6\"},[_vm._v(_vm._s(items.product.title))]),_c('span',[_vm._v(_vm._s(items.qty)+\"隻\")])]),_c('span',{staticClass:\"ml-auto order-item-price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(items.total)))])])}),(_vm.cart.final_total&&_vm.cart.final_total !==_vm.cart.total)?_c('div',{staticClass:\"d-flex customerCart-order-item align-items-start text-success\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"已套用優惠\")]),_c('span',[_vm._v(_vm._s((_vm.cart.final_total/_vm.cart.total*100))+\"% OFF\")])]),_c('span',{staticClass:\"ml-auto order-item-price\"},[_vm._v(\"-\"+_vm._s(_vm._f(\"currency\")((_vm.cart.total -_vm.cart.final_total))))])]):_vm._e(),_c('div',{staticClass:\"input-group input-group-sm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_num),expression:\"coupon_num\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_num=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\"套用優惠碼\")])])])],2)]),_c('hr',{staticClass:\"my-3\"}),_c('div',{staticClass:\"pb-3 px-3 pt-0 customerCart-order-Next\"},[_c('div',{staticClass:\"d-flex justify-content-end align-content-center mb-3 align-items-end\"},[_c('p',{staticClass:\"subtotal mr-2\"},[_vm._v(\"總計\")]),_c('p',{staticClass:\"total h3 mb-0 text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])]),_c('a',{staticClass:\"btn btn-info btn-block\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.GoOrder}},[_vm._v(\"下一步\")])])])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bg-white\">\n    <loading :active.sync=\"isLoading\" />\n    <div class=\"pt-5 container customerCart mb-2\">\n      <h1 class=\"text-center customerCart-title mb-5 text-secondary\" v-if=\"cart.total\">購物車</h1>\n      <h5 class=\"text-center py-5 mt-3 mb-5 nonecart\" v-if=\"!cart.total\">目前您的購物車沒有任何商品!</h5>\n      <hr s v-if=\"!cart.total\" />\n      <h3 class=\"cart-recommend text-center mb-4 pl-2 font-weight-bold\" v-if=\"!cart.total\">經典商品</h3>\n      <div v-if=\"!cart.total\">\n        <CardCarousel :filterscard=\"filterscarousel\" />\n      </div>\n      <div class=\"row\" v-if=\"cart.total\">\n        <div class=\"col-lg-7\">\n          <ul class=\"list-unstyled customerCart-content\">\n            <li class=\"mb-1\" v-for=\"item in cart.carts\" :key=\"item.id\">\n              <div class=\"customerCart-list d-flex flex-row\">\n                <div class=\"customerCart-img\">\n                  <img :src=\"item.product.imageUrl\" class=\"img-fluid\" />\n                </div>\n                <div class=\"d-flex align-items-center ml-2 ml-sm-0\">\n                  <div>\n                    <h4 class=\"customerCart-list-title mb-3\">{{item.product.title}}</h4>\n                    <div class=\"customerCart-list-info d-flex\">\n                      <span\n                        class=\"price mr-3\"\n                      >{{item.product.price | currency}}&nbsp;x&nbsp;{{ item.qty }}&nbsp; 隻</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"ml-auto pr-2 delete align-self-center\">\n                  <a\n                    class=\"btn btn-danger text-white\"\n                    :class=\"{disabled:item.id === cartdisable}\"\n                    @click=\"deleteCart(item.id)\"\n                  >刪除</a>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div class=\"col-lg-5\">\n          <div class=\"customerCart-order\">\n            <div class=\"p-3\">\n              <h2 class=\"h5\">訂單金額</h2>\n              <hr class=\"my-3\" />\n              <div>\n                <div\n                  class=\"d-flex customerCart-order-item align-items-start mb-3\"\n                  v-for=\"items in cart.carts\"\n                  :key=\"items.id\"\n                >\n                  <div class=\"d-flex flex-column mt-1\">\n                    <h5 class=\"mb-0 h6\">{{items.product.title}}</h5>\n                    <span>{{ items.qty }}隻</span>\n                  </div>\n                  <span class=\"ml-auto order-item-price\">{{ items.total | currency }}</span>\n                </div>\n                <div class=\"d-flex customerCart-order-item align-items-start text-success\" v-if=\"cart.final_total&&cart.final_total !==cart.total\">\n                  <div class=\"d-flex flex-column\">\n                    <h5 class=\"mb-0\">已套用優惠</h5>\n                    <span>{{ (cart.final_total/cart.total*100) }}% OFF</span>\n                  </div>\n                  <span class=\"ml-auto order-item-price\">-{{ (cart.total -cart.final_total) | currency }}</span>\n                </div>\n                <div class=\"input-group input-group-sm\">\n                  <input type=\"text\" class=\"form-control\"  placeholder=\"請輸入優惠碼\" v-model=\"coupon_num\">\n                  <div class=\"input-group-append\">\n                    <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">套用優惠碼</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <hr class=\"my-3\"/>\n            <div class=\"pb-3 px-3 pt-0 customerCart-order-Next\">\n              <div class=\"d-flex justify-content-end align-content-center mb-3 align-items-end\">\n                <p class=\"subtotal mr-2\">總計</p>\n                <p class=\"total h3 mb-0 text-danger\">{{ cart.final_total | currency }}</p>\n              </div>\n              <a href=\"#\" class=\"btn btn-info btn-block\" @click=\"GoOrder\">下一步</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport CardCarousel from \"../components/CardCarousel\";\nexport default {\n  name: \"customerCart\",\n  components: {\n    CardCarousel\n  },\n  data() {\n    return {\n      cartdisable: \"\",\n      coupon_num: \"\"\n    };\n  },\n  methods: {\n    deleteCart(id) {\n      const vm = this;\n      vm.cartdisable = id;\n      vm.$store.dispatch(\"CardModules/deleteCart\", id);\n    },\n     addCouponCode() {\n      const vm = this;\n      if (vm.coupon_num !== '') {\n        vm.$store.dispatch('CardModules/addCouponCode', vm.coupon_num).then(() => {\n          vm.coupon_num = '';\n        });\n      }\n    },\n    GoOrder() {\n      this.$router.push(\"/custom/customorder\");\n    },\n    ...mapActions(\"HomeModules\", [\"CarouselProducts\"]),\n    ...mapActions(\"CardModules\", [\"getCart\"])\n  },\n  computed: {\n    filterscarousel() {\n      let vm = this;\n      let newarr = [];\n      newarr = vm.carouselproducts.filter(\n        item => item.unit.indexOf(\"hero\") != -1\n      );\n      return newarr;\n    },\n    ...mapGetters(\"HomeModules\", [\"carouselproducts\"]),\n    ...mapGetters([\"isLoading\"]),\n    ...mapGetters(\"CardModules\", [\"cart\", \"cartItem\"])\n  },\n  created() {\n    this.getCart();\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomCart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomCart.vue?vue&type=template&id=46756ca3&\"\nimport script from \"./CustomCart.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomCart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}